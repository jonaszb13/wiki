<html lang="de">
<%- include("./partials/head.ejs") %>

<body>
  <%- include("./partials/menu.ejs") %>

  <div class="articlesContent">
    <h2>All Articles</h2>

    <% if (articles.length > 0) { %>
      <% articles.forEach(article => { %>
        <a class="single" href="/articles/<%= article._id %>">
          <h3 class="title"><%= article.title %></h3>
          <p class="snippet"><%= article.snippet %></p>
        </a>
      <% }) %>
    <% } else { %>
      <p>There are no articles to display...</p>
    <% } %>
    
  </div>


  <script>

    document.getElementById('searchBar').addEventListener('change', e => {
      
      let input = '';
      input = document.getElementById('searchBar').value

      var refresh = window.location.protocol + "//" + window.location.host + window.location.pathname + "/" + input;    
      window.history.pushState({ path: refresh }, '', refresh);      

      //js async function to pass seachBar value to url without refreshing the page
  
    })
    
  </script>

</body>
</html>